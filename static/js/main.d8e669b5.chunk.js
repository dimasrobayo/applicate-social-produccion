(this.webpackJsonpguanarenext=this.webpackJsonpguanarenext||[]).push([[0],{430:function(e,t,n){},435:function(e,t,n){},436:function(e,t,n){},437:function(e,t,n){},438:function(e,t,n){},439:function(e,t,n){},441:function(e,t,n){},442:function(e,t,n){},443:function(e,t,n){},444:function(e,t,n){},463:function(e,t,n){},464:function(e,t,n){},465:function(e,t,n){},466:function(e,t,n){},467:function(e,t,n){},468:function(e,t,n){},469:function(e,t,n){},470:function(e,t,n){},471:function(e,t,n){},472:function(e,t,n){},473:function(e,t,n){},474:function(e,t,n){},475:function(e,t,n){},476:function(e,t,n){},477:function(e,t,n){},478:function(e,t,n){},479:function(e,t,n){},480:function(e,t,n){},481:function(e,t,n){},482:function(e,t,n){},483:function(e,t,n){},484:function(e,t,n){},485:function(e,t,n){},486:function(e,t,n){},487:function(e,t,n){},488:function(e,t,n){},490:function(e,t,n){},492:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n(93),s=n.n(c),i=n(12),o=n(7),u=n(38),l=n(504),b=n.n(l),j=n(300),d="token",m=n(290);function O(e){localStorage.setItem(d,e)}function h(){return localStorage.getItem(d)}function p(e){return Object(m.a)(e)}var f=b()({uri:"https://applicate-server.herokuapp.com/"}),v=Object(j.a)((function(e,t){var n=t.headers,a=h();return{headers:Object(u.a)(Object(u.a)({},n),{},{Authorization:a?"Bearer ".concat(a):""})}})),x=new o.ApolloClient({connectToDevTools:!0,cache:new o.InMemoryCache,link:v.concat(f)}),g=n(507),w=n(301),N=n.p+"static/media/applicate.6a7c8def.png",y=n(14),C=n.n(y),P=n(26),S=n(509),k=n(493),q=n(52),_=n(22),F=(n(430),n(18));function $(){var e=Object(F.a)(["\n    query search($search: String){\n        search(search: $search){\n            name,\n            username,\n            avatar\n        }\n    }\n"]);return $=function(){return e},e}function E(){var e=Object(F.a)(["\n    mutation updateUser($input: UserUpdateInput){\n        updateUser(input: $input)\n    }\n"]);return E=function(){return e},e}function I(){var e=Object(F.a)(["\n    mutation deleteAvatar{\n        deleteAvatar\n    }\n"]);return I=function(){return e},e}function U(){var e=Object(F.a)(["\n    mutation updateAvatar($file: Upload){\n        updateAvatar(file:$file){\n            status,\n            urlAvatar\n        }\n    }\n"]);return U=function(){return e},e}function L(){var e=Object(F.a)(["\n    query getUser($id:ID, $username:String){\n        getUser(id: $id, username: $username){\n        id\n        name\n        username\n        email\n        avatar\n        website\n        description\n        createAt\n        }\n    }\n"]);return L=function(){return e},e}function M(){var e=Object(F.a)(["\n    mutation login($input: LoginInput){\n        login(input: $input){\n            token\n        }\n    }\n"]);return M=function(){return e},e}function A(){var e=Object(F.a)(["\n    mutation register($input: UserInput){\n        register(input: $input)  {\n        id\n        name\n        username\n        email\n        password\n        }\n    }\n"]);return A=function(){return e},e}var D=Object(o.gql)(A()),Q=Object(o.gql)(M()),z=Object(o.gql)(L()),R=Object(o.gql)(U()),T=Object(o.gql)(I()),V=Object(o.gql)(E()),H=Object(o.gql)($()),W=n(21);function B(e){var t=e.setShowLogin,n=Object(o.useMutation)(D),r=Object(i.a)(n,1)[0],c=Object(q.a)({initialValues:{name:"",username:"",email:"",password:"",repeatPassword:""},validationSchema:_.a({name:_.c().required("El nombre es obligatorio!"),username:_.c().matches(/^[a-zA-z0-9-]*$/,"Nombre de usuario no puede tener espacios!").required("Nombre de usuario es requerido!"),email:_.c().email("El email es invalido!").required("Email es requerido!"),password:_.c().required("La contrase\xf1a es requerido!").oneOf([_.b("repeatPassword")],"Las contrase\xf1as no son iguales"),repeatPassword:_.c().required("La contrase\xf1a es requerido!").oneOf([_.b("password")],"Las contrase\xf1as no son iguales")}),onSubmit:function(){var e=Object(P.a)(C.a.mark((function e(n){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,delete(a=n).repeatPassword,e.next=5,r({variables:{input:a}});case 5:W.b.success("Bienvenidos a la red social de venezuela"),t(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),W.b.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()});return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:"register-form-title",children:"Registrate para ver fotos y videos de tus amigos."}),Object(a.jsxs)(S.a,{className:"register-form",onSubmit:c.handleSubmit,children:[Object(a.jsx)(S.a.Input,{type:"text",placeholder:"Nombre y Apellidos",name:"name",value:c.values.name,onChange:c.handleChange,error:c.errors.name}),Object(a.jsx)(S.a.Input,{type:"text",placeholder:"Nombre de usuario",name:"username",value:c.values.username,onChange:c.handleChange,error:c.errors.username&&!0}),Object(a.jsx)(S.a.Input,{type:"text",placeholder:"Correo electronico",name:"email",value:c.values.email,onChange:c.handleChange,error:c.errors.email&&!0}),Object(a.jsx)(S.a.Input,{type:"password",placeholder:"Contrase\xf1a",name:"password",value:c.values.password,onChange:c.handleChange,error:c.errors.password&&!0}),Object(a.jsx)(S.a.Input,{type:"password",placeholder:"Repetir contrase\xf1a",name:"repeatPassword",value:c.values.repeatPassword,onChange:c.handleChange,error:c.errors.repeatPassword&&!0}),Object(a.jsx)(k.a,{type:"submit",className:"btn-submit",children:"Registrarse"})]})]})}n(435);var K=Object(r.createContext)({user:void 0}),J=function(){return Object(r.useContext)(K)};function G(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(o.useMutation)(Q),u=Object(i.a)(s,1)[0],l=J().setUser,b=Object(q.a)({initialValues:{email:"",password:""},validationSchema:_.a({email:_.c().email("El email es invalido!").required("Email es requerido!"),password:_.c().required("La contrase\xf1a es requerido!")}),onSubmit:function(){var e=Object(P.a)(C.a.mark((function e(t){var n,a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),e.prev=1,e.next=4,u({variables:{input:t}});case 4:n=e.sent,a=n.data,O(r=a.login.token),l(p(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()});return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{className:"login-form-title",children:"Entra para ver fotos y videos de tus amigos."}),Object(a.jsxs)(S.a,{className:"login-form",onSubmit:b.handleSubmit,children:[Object(a.jsx)(S.a.Input,{type:"text",placeholder:"Correo electronico",name:"email",value:b.values.email,onChange:b.handleChange,error:b.errors.email&&!0}),Object(a.jsx)(S.a.Input,{type:"password",placeholder:"Contrase\xf1a",name:"password",value:b.values.password,onChange:b.handleChange,error:b.errors.password&&!0}),Object(a.jsx)(k.a,{type:"submit",className:"btn-submit",children:"Iniciar sessi\xf3n"}),Object(a.jsx)("div",{className:"login-form-recover",children:Object(a.jsx)("span",{children:"\xbfHas olvidado tu contrase\xf1a?"})}),n&&Object(a.jsx)("p",{className:"submit-error",children:n})]})]})}n(436);function X(){var e=Object(r.useState)(!0),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.jsxs)(g.a,{fluid:!0,className:"auth",children:[Object(a.jsx)(w.a,{src:N}),Object(a.jsx)("div",{className:"container-form",children:n?Object(a.jsx)(G,{}):Object(a.jsx)(B,{setShowLogin:c})}),Object(a.jsx)("div",{className:"change-form",children:Object(a.jsx)("p",{children:n?Object(a.jsxs)(a.Fragment,{children:["No tienes cuenta?",Object(a.jsx)("span",{onClick:function(){return c(!n)},children:" Registrate"})]}):Object(a.jsxs)(a.Fragment,{children:["Entra con tu cuenta?",Object(a.jsx)("span",{onClick:function(){return c(!n)},children:" Iniciar session"})]})})})]})}var Y=n(34),Z=n(37),ee=n(514),te=(n(437),n(124)),ne=n(511),ae=n(513),re=n(508),ce=n(146);function se(){var e=Object(F.a)(["\n    query getPublicationsFollowers{\n        getPublicationsFollowers{\n        id\n        idUser {\n            name\n            username\n            avatar\n        }\n        file\n        typeFile\n        createAt\n        }\n    }\n"]);return se=function(){return e},e}function ie(){var e=Object(F.a)(["\n    query getPublications($username: String!){\n        getPublications(username: $username){\n            id\n            idUser\n            file\n            typeFile\n            createAt\n        }\n    }\n"]);return ie=function(){return e},e}function oe(){var e=Object(F.a)(["\n    mutation publish($file: Upload) {\n        publish(file: $file){\n            status\n            urlFile\n        }\n    }\n"]);return oe=function(){return e},e}var ue=Object(o.gql)(oe()),le=Object(o.gql)(ie()),be=Object(o.gql)(se());n(438);function je(e){var t=e.show,n=e.setShow,c=Object(r.useState)(null),s=Object(i.a)(c,2),l=s[0],b=s[1],j=Object(r.useState)(!1),d=Object(i.a)(j,2),m=d[0],O=d[1],h=Object(o.useMutation)(ue),p=Object(i.a)(h,1)[0],f=Object(r.useCallback)((function(e){var t=e[0];b({type:t.type,file:t,preview:URL.createObjectURL(t)})}),[]),v=Object(ce.a)({accept:"image/jpeg, image/png, video/*",noKeyboard:!0,multiple:!1,onDrop:f}),x=v.getRootProps,g=v.getInputProps,w=function(){var e=Object(P.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,p({variables:{file:l.file}});case 4:t=e.sent,t.data.publish.status?N():(W.b.warning("Error en la publicaci\xf3n"),m(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),N=function(){O(!1),b(null),n(!1)};return Object(a.jsxs)(ne.a,{size:"small",open:t,onClose:N,className:"modal-upload",children:[Object(a.jsxs)("div",Object(u.a)(Object(u.a)({},x()),{},{className:"dropzone",style:l&&{border:0},children:[!l&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(te.a,{name:"cloud upload"}),Object(a.jsx)("p",{children:"Arrastrar la foto o video que quieres publicar"})]}),Object(a.jsx)("input",Object(u.a)({},g()))]})),l&&Object(a.jsx)("div",{className:"image",style:{background:'url("'.concat(l.preview,'") ')}}),l&&Object(a.jsx)(k.a,{className:"btn-upload btn-action",onClick:w,children:"Publicar"}),m&&Object(a.jsxs)(ae.a,{active:!0,className:"publishing",children:[Object(a.jsx)(re.a,{}),Object(a.jsx)("p",{children:"Publicando..."})]})]})}var de=n.p+"static/media/avatar.235f193d.png";n(439);function me(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],s=J().auth,u=Object(o.useQuery)(z,{variables:{username:s.username}}),l=u.data,b=u.loading,j=u.error;if(b||j)return null;if(j)return Object(a.jsx)(de,{});var d=l.getUser;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"right-header",children:[Object(a.jsx)(Y.b,{to:"/",children:Object(a.jsx)(te.a,{name:"home",size:"large"})}),Object(a.jsx)(Y.b,{to:"/wechat",children:Object(a.jsx)(te.a,{name:"wechat",size:"large"})}),Object(a.jsx)(te.a,{name:"plus",size:"large",onClick:function(){return c(!0)}}),Object(a.jsx)(Y.b,{to:s.username,children:Object(a.jsx)(w.a,{src:d.avatar?d.avatar:de,avatar:!0})})]}),Object(a.jsx)(je,{show:n,setShow:c})]})}var Oe=n(510),he=n(33);n(441);function pe(){var e=Object(r.useState)(),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),u=Object(i.a)(s,2),l=u[0],b=u[1],j=Object(o.useQuery)(H,{variables:{search:n}}),d=j.data,m=j.loading;Object(r.useEffect)((function(){if(Object(he.size)(null===d||void 0===d?void 0:d.search)){var e=[];d.search.forEach((function(t,n){e.push({key:n,title:t.name,username:t.username,avatar:t.avatar})})),b(e)}else b(null)}),[d]);return Object(a.jsx)(Oe.a,{className:"search-users",fluid:!0,input:{icon:"search",iconPosition:"left"},loading:m,value:n||"",onSearchChange:function(e){e.target.value?c(e.target.value):c(null)},onResultSelect:function(){c(null),b([])},results:l,resultRenderer:function(e){return Object(a.jsx)(fe,{data:e})}})}function fe(e){var t=e.data;return Object(a.jsxs)(Y.b,{className:"search-users__item",to:"/".concat(t.username),children:[Object(a.jsx)(w.a,{src:t.avatar||de}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:t.title}),Object(a.jsx)("p",{children:t.username})]})]})}function ve(){return Object(a.jsx)("div",{className:"header",children:Object(a.jsx)(g.a,{children:Object(a.jsxs)(ee.a,{children:[Object(a.jsx)(ee.a.Column,{width:4,className:"header__logo",children:Object(a.jsx)(Y.b,{to:"/",children:Object(a.jsx)(w.a,{src:N,alt:"besocial"})})}),Object(a.jsx)(ee.a.Column,{width:9,className:"header__search",children:Object(a.jsx)(pe,{})}),Object(a.jsx)(ee.a.Column,{width:3,className:"header__right",children:Object(a.jsx)(me,{})})]})})})}function xe(e){var t=e.children;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ve,{}),Object(a.jsx)(g.a,{className:"layout-basic",children:t})]})}function ge(){var e=Object(F.a)(["\n    query getStorysFollowers{\n        getStorysFollowers{\n        id\n        idUser {\n            name\n            username\n            avatar\n        }\n        file\n        typeFile\n        createAt\n        }\n    }\n"]);return ge=function(){return e},e}function we(){var e=Object(F.a)(["\n    mutation addStory($file: Upload) {\n        addStory(file: $file){\n            status\n            urlFile\n        }\n    }\n"]);return we=function(){return e},e}var Ne=Object(o.gql)(we()),ye=Object(o.gql)(ge());function Ce(){var e=Object(F.a)(["\n    query countNotLikes($idPublication: ID!){\n        countNotLikes(idPublication: $idPublication)\n    }\n"]);return Ce=function(){return e},e}function Pe(){var e=Object(F.a)(["\n    query isNotLike($idPublication: ID!){\n        isNotLike(idPublication: $idPublication)\n    }\n"]);return Pe=function(){return e},e}function Se(){var e=Object(F.a)(["\n    mutation deleteNotLike($idPublication: ID!){\n        deleteNotLike(idPublication: $idPublication)\n    }\n"]);return Se=function(){return e},e}function ke(){var e=Object(F.a)(["\n    mutation addNotLike($idPublication: ID!){\n        addNotLike(idPublication: $idPublication)\n    }\n"]);return ke=function(){return e},e}function qe(){var e=Object(F.a)(["\n    query countLikes($idPublication: ID!){\n        countLikes(idPublication: $idPublication)\n    }\n"]);return qe=function(){return e},e}function _e(){var e=Object(F.a)(["\n    query isLike($idPublication: ID!){\n        isLike(idPublication: $idPublication)\n    }\n"]);return _e=function(){return e},e}function Fe(){var e=Object(F.a)(["\n    mutation deleteLike($idPublication: ID!){\n        deleteLike(idPublication: $idPublication)\n    }\n"]);return Fe=function(){return e},e}function $e(){var e=Object(F.a)(["\n    mutation addLike($idPublication: ID!){\n        addLike(idPublication: $idPublication)\n    }\n"]);return $e=function(){return e},e}var Ee=Object(o.gql)($e()),Ie=Object(o.gql)(Fe()),Ue=Object(o.gql)(_e()),Le=Object(o.gql)(qe()),Me=Object(o.gql)(ke()),Ae=Object(o.gql)(Se()),De=Object(o.gql)(Pe()),Qe=Object(o.gql)(Ce());n(442);function ze(e){var t=e.publication,n=Object(r.useState)(!1),c=Object(i.a)(n,2),s=c[0],u=c[1],l=Object(r.useState)(!1),b=Object(i.a)(l,2),j=b[0],d=b[1],m=Object(o.useMutation)(Ee),O=Object(i.a)(m,1)[0],h=Object(o.useMutation)(Ie),p=Object(i.a)(h,1)[0],f=Object(o.useMutation)(Me),v=Object(i.a)(f,1)[0],x=Object(o.useMutation)(Ae),g=Object(i.a)(x,1)[0],w=Object(o.useQuery)(Ue,{variables:{idPublication:t.id}}),N=w.data,y=w.loading,S=w.refetch,k=Object(o.useQuery)(Le,{variables:{idPublication:t.id}}),q=k.data,_=k.loading,F=k.refetch,$=Object(o.useQuery)(De,{variables:{idPublication:t.id}}),E=$.data,I=$.loading,U=$.refetch,L=Object(o.useQuery)(Qe,{variables:{idPublication:t.id}}),M=L.data,A=L.loading,D=L.refetch,Q=function(){var e=Object(P.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,O({variables:{idPublication:t.id}});case 4:S(),F(),U(),D(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:u(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(P.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,p({variables:{idPublication:t.id}});case 4:S(),F(),U(),D(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:u(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(P.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,v({variables:{idPublication:t.id}});case 4:S(),F(),U(),D(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:d(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(P.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,g({variables:{idPublication:t.id}});case 4:S(),F(),U(),D(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:d(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();if(y||_||I||A)return null;var V=N.isLike,H=q.countLikes,W=E.isNotLike,B=M.countNotLikes;return Object(a.jsxs)("div",{className:"actions",children:[Object(a.jsx)(te.a,{className:V?"like active":"like",name:V?"thumbs up":"thumbs up outline",onClick:function(){s||(V?z():(T(),Q()))}}),H," ",1===H?"Like":"Likes",Object(a.jsx)(te.a,{className:W?"not-like active":"not-like",name:W?"thumbs down":"thumbs down outline",onClick:function(){j||(W?T():(z(),R()))}}),B," ",B<=1?"Not Like":"Not Likes"]})}function Re(){var e=Object(F.a)(["\n    query getComments($idPublication: ID!){\n        getComments(idPublication: $idPublication){\n            idPublication\n            idUser {\n                name\n                username\n                email\n                avatar\n            }\n            comment\n            createAt\n        }\n    }\n"]);return Re=function(){return e},e}function Te(){var e=Object(F.a)(["\n    mutation addComment($input: CommentInput){\n        addComment(input: $input){\n            idPublication\n            comment\n        }\n    }\n"]);return Te=function(){return e},e}var Ve=Object(o.gql)(Te()),He=Object(o.gql)(Re());n(443);function We(e){var t=e.publication,n=Object(o.useQuery)(He,{variables:{idPublication:t.id}}),c=n.data,s=n.loading,i=n.startPolling,u=n.stopPolling;if(Object(r.useEffect)((function(){return i(1e3),function(){u()}}),[i,u]),s)return null;var l=c.getComments;return Object(a.jsx)("div",{className:"comments",children:Object(he.map)(l,(function(e,t){return Object(a.jsxs)(Y.b,{to:"/".concat(e.idUser.username),className:"comment",children:[Object(a.jsx)(w.a,{src:e.idUser.avatar||de,avatar:!0}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:e.idUser.username}),Object(a.jsx)("p",{children:e.comment})]})]},t)}))})}n(444);function Be(e){var t=e.publication,n=Object(o.useMutation)(Ve),r=Object(i.a)(n,1)[0],c=Object(q.a)({initialValues:{comment:""},validationSchema:_.a({comment:_.c().required()}),onSubmit:function(){var e=Object(P.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r({variables:{input:{idPublication:t.id,comment:n.comment}}});case 3:c.handleReset(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()});return Object(a.jsxs)(S.a,{className:"comment-form",onSubmit:c.handleSubmit,children:[Object(a.jsx)(S.a.Input,{placeholder:"A\xf1adir Comentario...",name:"comment",value:c.values.comment,onChange:c.handleChange,error:c.errors.comment&&!0}),Object(a.jsx)(k.a,{type:"submit",children:"Publicar"})]})}var Ke=n(144),Je=n.n(Ke);n(463);function Ge(e){var t=e.show,n=e.setShow,r=e.publication;return Object(a.jsx)(ne.a,{className:"modal-publication",open:t,onClose:function(){return n(!1)},children:Object(a.jsxs)(ee.a,{children:["image"===r.typeFile?Object(a.jsx)(ee.a.Column,{className:"modal-publication__left",width:10,children:Object(a.jsx)(w.a,{className:"modal-publication__left__picture",src:r.file})}):Object(a.jsx)(ee.a.Column,{className:"modal-publication__left",width:10,children:Object(a.jsx)(Je.a,{className:"modal-publication__left__video",url:r.file,width:"100%",controls:!0,muted:!0})}),Object(a.jsxs)(ee.a.Column,{className:"modal-publication__right",width:6,children:[Object(a.jsx)(We,{publication:r}),Object(a.jsx)(ze,{publication:r}),Object(a.jsx)(Be,{publication:r})]})]})})}n(464);function Xe(e){var t=e.show,n=e.setShow,c=Object(r.useState)(null),s=Object(i.a)(c,2),l=s[0],b=s[1],j=Object(r.useState)(!1),d=Object(i.a)(j,2),m=d[0],O=d[1],h=Object(o.useMutation)(Ne),p=Object(i.a)(h,1)[0],f=Object(r.useCallback)((function(e){var t=e[0];b({type:t.type,file:t,preview:URL.createObjectURL(t)})})),v=Object(ce.a)({accept:"image/jpeg, image/png, video/*",noKeyboard:!0,multiple:!1,onDrop:f}),x=v.getRootProps,g=v.getInputProps,N=function(){var e=Object(P.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,p({variables:{file:l.file}});case 4:t=e.sent,t.data.addStory.status?(W.b.success("Has registrado una nueva historia!!!"),y()):(W.b.warning("Error en la publicaci\xf3n"),m(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),y=function(){O(!1),b(null),n(!1)};return Object(a.jsxs)(ne.a,{size:"small",open:t,onClose:y,className:"modal-upload-story",children:[!l&&Object(a.jsx)("div",Object(u.a)(Object(u.a)({},x()),{},{className:"dropzone",style:l&&{border:0},children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(te.a,{name:"cloud upload"}),Object(a.jsx)("p",{children:"Arrastrar la foto o video que quieres publicar"}),Object(a.jsx)("input",Object(u.a)({},g()))]})})),l&&Object(a.jsx)("div",{className:"image",children:Object(a.jsx)(w.a,{src:l.preview})}),l&&Object(a.jsx)(k.a,{className:"btn-upload btn-action",onClick:N,children:"Publicar"}),m&&Object(a.jsxs)(ae.a,{active:!0,className:"publishing",children:[Object(a.jsx)(re.a,{}),Object(a.jsx)("p",{children:"Publicando..."})]})]})}n(465);function Ye(e){var t=e.getStorysFollowers,n=Object(r.useState)(!1),c=Object(i.a)(n,2),s=c[0],u=c[1],l=J().auth,b=Object(o.useQuery)(z,{variables:{username:l.username}}),j=b.data,d=b.loading,m=b.error;if(d||m)return null;if(m)return Object(a.jsx)(de,{});var O=j.getUser;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"slider-frame",children:[Object(a.jsx)(Y.b,{to:"/storys",children:Object(a.jsx)(te.a,{className:"btn next",circular:!0,inverted:!0,name:"arrow right",size:"large"})}),Object(a.jsx)("div",{className:"story-users",children:Object(a.jsxs)("div",{className:"time-line-story",children:[Object(a.jsxs)("div",{className:"time-line-story__add",onClick:function(){u(!0)},children:[Object(a.jsx)(w.a,{className:"img-story-add",src:O.avatar?O.avatar:de}),Object(a.jsx)(te.a,{name:"plus",size:"big"}),Object(a.jsx)("span",{children:"Crear historia"})]}),Object(he.map)(t,(function(e,t){return Object(a.jsxs)("div",{className:"time-line-story__view",children:[Object(a.jsx)("div",{className:"btn prev"}),Object(a.jsx)("div",{className:"btn next"}),Object(a.jsx)("div",{children:Object(a.jsx)(w.a,{className:"img-avatar",src:e.idUser.avatar||de,avatar:!0})}),Object(a.jsx)(w.a,{className:"img-story",src:e.file})]},t)}))]})})]}),Object(a.jsx)(Xe,{show:s,setShow:u})]})}n(466);function Ze(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(null),u=Object(i.a)(s,2),l=u[0],b=u[1],j=Object(o.useQuery)(be),d=j.data,m=j.loading,O=j.startPolling,h=j.stopPolling,p=Object(o.useQuery)(ye),f=p.data,v=p.loading,x=p.startPolling,g=p.stopPolling;if(Object(r.useEffect)((function(){return O(1e3),function(){h()}}),[O,h]),Object(r.useEffect)((function(){return x(1e3),function(){g()}}),[x,g]),v)return null;var N=f.getStorysFollowers;if(m)return null;var y=d.getPublicationsFollowers;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"feed",children:[Object(a.jsx)(Ye,{className:"feed__box-story",getStorysFollowers:N}),Object(he.map)(y,(function(e,t){return Object(a.jsxs)("div",{className:"feed__box",children:[Object(a.jsx)(Y.b,{to:"/".concat(e.idUser.username),children:Object(a.jsxs)("div",{className:"feed__box-user",children:[Object(a.jsx)(w.a,{src:e.idUser.avatar||de,avatar:!0}),Object(a.jsx)("span",{children:e.idUser.name})]})}),"image"===e.typeFile?Object(a.jsx)("div",{className:"feed__box-photo",onClick:function(){return function(e){b(e),c(!0)}(e)},children:Object(a.jsx)(w.a,{src:e.file})}):Object(a.jsx)(Je.a,{className:"feed__box-user-video",url:e.file,width:"100%",controls:!0,muted:!0}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"feed__box-actions",children:Object(a.jsx)(ze,{publication:e})}),Object(a.jsx)("div",{className:"feed__box-comments",children:Object(a.jsx)(We,{publication:e})})]}),Object(a.jsx)("div",{className:"feed__box-form",children:Object(a.jsx)(Be,{publication:e})})]},t)}))]}),n&&Object(a.jsx)(Ge,{show:n,setShow:c,publication:l})]})}function et(){var e=Object(F.a)(["\n    query getIsFolloweds {\n        getIsFolloweds {\n            username\n            name\n            avatar\n        }\n    }\n"]);return et=function(){return e},e}function tt(){var e=Object(F.a)(["\n    query getNotFolloweds {\n        getNotFolloweds {\n            username\n            name\n            avatar\n        }\n    }\n"]);return tt=function(){return e},e}function nt(){var e=Object(F.a)(["\n    query getFolloweds($username: String!){\n        getFolloweds(username: $username){\n            name\n            username\n            avatar\n        }\n    }\n"]);return nt=function(){return e},e}function at(){var e=Object(F.a)(["\n    query getFollowers($username: String!){\n        getFollowers(username: $username){\n            username\n            name\n            avatar\n        }\n    }\n"]);return at=function(){return e},e}function rt(){var e=Object(F.a)(["\n    mutation unFollow($username: String!){\n        unFollow(username: $username)\n    }\n"]);return rt=function(){return e},e}function ct(){var e=Object(F.a)(["\n    mutation follow($username: String!){\n        follow(username: $username)\n    }\n"]);return ct=function(){return e},e}function st(){var e=Object(F.a)(["\n    query isFollow($username: String!){\n        isFollow(username: $username)\n    }\n"]);return st=function(){return e},e}var it=Object(o.gql)(st()),ot=Object(o.gql)(ct()),ut=Object(o.gql)(rt()),lt=Object(o.gql)(at()),bt=Object(o.gql)(nt()),jt=Object(o.gql)(tt()),dt=Object(o.gql)(et());n(467);function mt(){var e=Object(o.useQuery)(jt),t=e.data;if(e.loading)return null;var n=t.getNotFolloweds;return Object(a.jsxs)("div",{className:"users-not-followeds",children:[Object(a.jsx)("h3",{children:"Recomendaciones"}),Object(he.map)(n,(function(e,t){return Object(a.jsxs)(Y.b,{to:"/".concat(e.username),className:"users-not-followeds__user",children:[Object(a.jsx)(w.a,{src:e.avatar||de,avatar:!0}),Object(a.jsx)("span",{children:e.username})]},t)}))]})}n(468);function Ot(){var e=Object(o.useQuery)(dt),t=e.data;if(e.loading)return null;var n=t.getIsFolloweds;return Object(a.jsxs)("div",{className:"users-is-not-followeds",children:[Object(a.jsx)("h3",{children:"Amigos"}),Object(he.map)(n,(function(e,t){return Object(a.jsxs)("a",{href:"https://ec2-18-229-242-167.sa-east-1.compute.amazonaws.com",target:"true",className:"users-is-not-followeds__user",children:[Object(a.jsx)(w.a,{src:e.avatar||de,avatar:!0}),Object(a.jsx)("span",{children:e.username})]},t)}))]})}n(469);n(470);n(471);function ht(){return Object(a.jsxs)("div",{className:"user-not-found",children:[Object(a.jsx)("p",{children:"Usuario no encontrado"}),Object(a.jsx)("p",{children:"Es posible que el enlace que has seguido sea incorrecto o el usuario se dio de baja."}),Object(a.jsx)(Y.b,{to:"/",children:"Volver a Home"})]})}n(472);function pt(e){var t=e.show,n=e.setShow,r=e.title,c=e.children;return Object(a.jsxs)(ne.a,{size:"mini",open:t,onClose:function(){n(!1)},className:"modal-basic",children:[r&&Object(a.jsx)(ne.a.Header,{children:r}),c]})}n(473);function ft(e){var t=e.setShowModal,n=e.auth,c=Object(r.useState)(!1),s=Object(i.a)(c,2),l=s[0],b=s[1],j=Object(o.useMutation)(R,{update:function(e,t){var a=t.data.updateAvatar,r=e.readQuery({query:z,variables:{username:n.username}}).getUser;e.writeQuery({query:z,variables:{username:n.username},data:{getUser:Object(u.a)(Object(u.a)({},r),{},{avatar:a.urlAvatar})}})}}),d=Object(i.a)(j,1)[0],m=Object(o.useMutation)(T,{update:function(e){var t=e.readQuery({query:z,variables:{username:n.username}}).getUser;e.writeQuery({query:z,variables:{username:n.username},data:{getUser:Object(u.a)(Object(u.a)({},t),{},{avatar:""})}})}}),O=Object(i.a)(m,1)[0],h=Object(r.useCallback)(function(){var e=Object(P.a)(C.a.mark((function e(n){var a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n[0],e.prev=1,b(!0),e.next=5,d({variables:{file:a}});case 5:r=e.sent,r.data.updateAvatar.status?(W.b.success("Imagen cargada con exito!"),b(!1),t(!1)):(W.b.warning("Error al cargar la imagen."),b(!1)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),W.b.warning("Error al cargar la imagen.");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),[]),p=Object(ce.a)({accept:"image/jpeg, image/png",noKeyboard:!0,multiple:!1,onDrop:h}),f=p.getRootProps,v=p.getInputProps,x=function(){var e=Object(P.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:n=e.sent,n.data.deleteAvatar?(W.b.success("Avatar eliminado correctamente"),t(!1)):W.b.warning("Error al borrar el avatar"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"avatar-form",children:[Object(a.jsx)(k.a,Object(u.a)(Object(u.a)({},f()),{},{loading:l,children:"Cargar Foto"})),Object(a.jsx)(k.a,{onClick:function(){x()},children:"Eliminar Foto Actual"}),Object(a.jsx)(k.a,{onClick:function(){t(!1)},children:"Cancelar"}),Object(a.jsx)("input",Object(u.a)({},v()))]})}n(474);function vt(e){var t=e.getUser,n=e.auth,r=e.handlerModal,c=Object(o.useMutation)(ot),s=Object(i.a)(c,1)[0],u=Object(o.useMutation)(ut),l=Object(i.a)(u,1)[0],b=Object(o.useQuery)(it,{variables:{username:t.username}}),j=b.data,d=b.loading,m=b.refetch,O=function(){var e=Object(P.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({variables:{username:t.username}});case 3:m(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(P.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({variables:{username:t.username}});case 3:m(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"header-profile",children:[Object(a.jsx)("h2",{children:t.username}),t.username===n.username?Object(a.jsx)(k.a,{onClick:function(){r("setting")},children:"Editar Perfil"}):!d&&(j.isFollow?Object(a.jsx)(k.a,{className:"btn-danger",onClick:h,children:"Dejar de seguir"}):Object(a.jsx)(k.a,{className:"btn-action",onClick:O,children:"Seguir"}))]})}n(475);function xt(e){var t=e.users,n=e.setShowModal,r=Object(Z.f)();return Object(a.jsx)("div",{className:"list-users",children:0===Object(he.size)(t)?Object(a.jsx)("p",{className:"list-users__not-users",children:"No se han encontrado usuarios"}):Object(he.map)(t,(function(e,t){return Object(a.jsxs)("div",{className:"list-users__user",onClick:function(){return t=e.username,n(!1),void r.push("/".concat(t));var t},children:[Object(a.jsx)(w.a,{src:e.avatar||de,avatar:!0}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:e.name}),Object(a.jsx)("p",{children:e.username})]})]},t)}))})}n(476);function gt(e){var t=e.username,n=e.totalPublications,c=Object(r.useState)(!1),s=Object(i.a)(c,2),u=s[0],l=s[1],b=Object(r.useState)(""),j=Object(i.a)(b,2),d=j[0],m=j[1],O=Object(r.useState)(null),h=Object(i.a)(O,2),p=h[0],f=h[1],v=Object(o.useQuery)(lt,{variables:{username:t}}),x=v.data,g=v.loading,w=v.startPolling,N=v.stopPolling,y=Object(o.useQuery)(bt,{variables:{username:t}}),C=y.data,P=y.loading,S=y.startPolling,k=y.stopPolling;if(Object(r.useEffect)((function(){return w(1e3),function(){N()}}),[w,N]),Object(r.useEffect)((function(){return S(1e3),function(){k()}}),[S,k]),P||g)return null;var q=x.getFollowers,_=C.getFolloweds;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"followers",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{children:n})," Publicaciones"]}),Object(a.jsxs)("p",{className:"link",onClick:function(){m("Seguidores"),f(Object(a.jsx)(xt,{users:q,setShowModal:l})),l(!0)},children:[Object(a.jsx)("span",{children:Object(he.size)(q)})," Seguidores"]}),Object(a.jsxs)("p",{className:"link",onClick:function(){m("Seguidos"),f(Object(a.jsx)(xt,{users:_,setShowModal:l})),l(!0)},children:[Object(a.jsx)("span",{children:Object(he.size)(_)})," Seguidos"]})]}),Object(a.jsx)(pt,{show:u,setShow:l,title:d,children:p})]})}n(477);function wt(e){var t=e.logout,n=Object(o.useMutation)(V),r=Object(i.a)(n,1)[0],c=Object(q.a)({initialValues:{currentPassword:"",newPassword:"",repeatNewPassword:""},validationSchema:_.a({currentPassword:_.c().required(),newPassword:_.c().required().oneOf([_.b("repeatNewPassword")]),repeatNewPassword:_.c().required().oneOf([_.b("newPassword")])}),onSubmit:function(){var e=Object(P.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r({variables:{input:{currentPassword:n.currentPassword,newPassword:n.newPassword}}});case 3:e.sent?(t(),W.b.success("Contrase\xf1a cambiada con exito!")):W.b.error("Error al cambiar la contrase\xf1a!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),W.b.error("Error al cambiar la contrase\xf1a!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()});return Object(a.jsxs)(S.a,{className:"password-form",onSubmit:c.handleSubmit,children:[Object(a.jsx)(S.a.Input,{type:"password",placeholder:"Contrase\xf1a actual",name:"currentPassword",value:c.values.currentPassword,onChange:c.handleChange,error:c.errors.currentPassword&&!0}),Object(a.jsx)(S.a.Input,{type:"password",placeholder:"Nueva contrase\xf1a",name:"newPassword",value:c.values.newPassword,onChange:c.handleChange,error:c.errors.newPassword&&!0}),Object(a.jsx)(S.a.Input,{type:"password",placeholder:"Repetir Nueva contrase\xf1a",name:"repeatNewPassword",velue:c.values.repeatNewPassword,onChange:c.handleChange,error:c.errors.repeatNewPassword&&!0}),Object(a.jsx)(k.a,{type:"submit",className:"btn-submit",children:"Actualizar"})]})}n(478);function Nt(e){var t=e.setShowModal,n=e.currentEmail,r=e.refetch,c=Object(o.useMutation)(V),s=Object(i.a)(c,1)[0],u=Object(q.a)({initialValues:{email:n||""},validationSchema:_.a({email:_.c().email().required()}),onSubmit:function(){var e=Object(P.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({variables:{input:n}});case 3:e.sent?(r(),t(!1),W.b.success("Email cambiado con exito")):W.b.error("Error al cambiar el email"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),W.b.error("Error al cambiar el email");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()});return Object(a.jsxs)(S.a,{className:"email-form",onSubmit:u.handleSubmit,children:[Object(a.jsx)(S.a.Input,{placeholder:"Escribe tu nuevo email",name:"email",value:u.values.email,onChange:u.handleChange,error:u.errors.email&&!0}),Object(a.jsx)(k.a,{className:"btn-submit",children:"Cambiar Email"})]})}n(479);function yt(e){var t=e.setShowModal,n=e.currentDescription,r=e.refetch,c=Object(o.useMutation)(V),s=Object(i.a)(c,1)[0],u=Object(q.a)({initialValues:{description:n||""},validationSchema:_.a({description:_.c().required()}),onSubmit:function(){var e=Object(P.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({variables:{input:n}});case 3:e.sent?(r(),t(!1),W.b.success("Descripci\xf3n cambiada con exito")):W.b.error("Error al cambiar la Descripci\xf3n"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),W.b.error("Error al cambiar la Descripci\xf3n");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()});return Object(a.jsxs)(S.a,{className:"description-form",onSubmit:u.handleSubmit,children:[Object(a.jsx)(S.a.TextArea,{placeholder:"Escribe una descripci\xf3n",name:"description",value:u.values.description,onChange:u.handleChange,className:u.errors.description&&"error"}),Object(a.jsx)(k.a,{className:"btn-submit",children:"Cambiar Descripci\xf3n"})]})}n(480);function Ct(e){var t=e.setShowModal,n=e.currentWebSite,r=e.refetch,c=Object(o.useMutation)(V),s=Object(i.a)(c,1)[0],u=Object(q.a)({initialValues:{website:n||""},validationSchema:_.a({website:_.c().required()}),onSubmit:function(){var e=Object(P.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({variables:{input:n}});case 3:e.sent?(r(),t(!1),W.b.success("Sitio Web cambiado con exito")):W.b.error("Error al cambiar el sitio web"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),W.b.error("Error al cambiar el sitio web");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()});return Object(a.jsxs)(S.a,{className:"website-form",onSubmit:u.handleSubmit,children:[Object(a.jsx)(S.a.Input,{placeholder:"Escriba un sitio web",name:"website",value:u.values.website,onChange:u.handleChange,error:u.errors.website&&!0}),Object(a.jsx)(k.a,{className:"btn-submit",children:"Cambiar Sitio Web"})]})}n(481);function Pt(e){var t=e.setShowModal,n=e.setTitleModal,r=e.setChildrenModal,c=e.getUser,s=(e.auth,e.refetch),i=J().logout,u=Object(Z.f)(),l=Object(o.useApolloClient)(),b=function(){l.clearStore(),i(),u.push("/")};return Object(a.jsxs)("div",{className:"setting-from",children:[Object(a.jsx)(k.a,{onClick:function(){n("Cambiar contrase\xf1a"),r(Object(a.jsx)(wt,{logout:b}))},children:"Cambiar Contrase\xf1a"}),Object(a.jsx)(k.a,{onClick:function(){n("Cambiar Email"),r(Object(a.jsx)(Nt,{setShowModal:t,currentEmail:c.email,refetch:s}))},children:"Cambiar Email"}),Object(a.jsx)(k.a,{onClick:function(){n("Cambiar Descripci\xf3n"),r(Object(a.jsx)(yt,{setShowModal:t,currentDescription:c.description,refetch:s}))},children:"Cambiar Descripci\xf3n"}),Object(a.jsx)(k.a,{onClick:function(){n("Cambiar Sitio Web"),r(Object(a.jsx)(Ct,{setShowModal:t,currentWebSite:c.website,refetch:s}))},children:"Cambiar Sitio Web"}),Object(a.jsx)(k.a,{onClick:b,children:"Cerrar Sessi\xf3n"}),Object(a.jsx)(k.a,{onClick:function(){t(!1)},children:"Cancelar"})]})}n(482);function St(e){var t=e.username,n=e.totalPublications,c=J().auth,s=Object(r.useState)(!1),u=Object(i.a)(s,2),l=u[0],b=u[1],j=Object(r.useState)(""),d=Object(i.a)(j,2),m=d[0],O=d[1],h=Object(r.useState)(null),p=Object(i.a)(h,2),f=p[0],v=p[1],x=Object(o.useQuery)(z,{variables:{username:t}}),g=x.data,N=x.loading,y=x.error,C=x.refetch;if(N)return null;if(y)return Object(a.jsx)(ht,{});var P=g.getUser,S=function(e){switch(e){case"avatar":O("Cambiar foto de perfil"),v(Object(a.jsx)(ft,{setShowModal:b,auth:c})),b(!0);break;case"setting":O("Editar Perfil"),v(Object(a.jsx)(Pt,{setShowModal:b,setTitleModal:O,setChildrenModal:v,getUser:P,auth:c,refetch:C})),b(!0)}};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(ee.a,{className:"profile",children:[Object(a.jsx)(ee.a.Column,{width:5,className:"profile__left",children:Object(a.jsx)(w.a,{src:P.avatar?P.avatar:de,avatar:!0,onClick:function(){return t===c.username&&S("avatar")}})}),Object(a.jsxs)(ee.a.Column,{width:11,className:"profile__right",children:[Object(a.jsx)(vt,{getUser:P,handlerModal:S,auth:c}),Object(a.jsx)(gt,{username:t,totalPublications:n}),Object(a.jsxs)("div",{className:"other",children:[Object(a.jsx)("p",{className:"name",children:P.name}),P.website&&Object(a.jsx)("a",{href:P.website,className:"website",target:"_black",children:P.website}),P.description&&Object(a.jsx)("p",{className:"description",children:P.description})]})]})]}),Object(a.jsx)(pt,{show:l,setShow:b,title:m,children:f})]})}n(483);function kt(e){var t=e.publication,n=Object(r.useState)(!1),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"preview-publication",onClick:function(){return o(!0)},children:"image"===t.typeFile?Object(a.jsx)(w.a,{className:"preview-publication__image",src:t.file}):Object(a.jsx)(Je.a,{className:"preview-publication__video",url:t.file,width:"100%",height:"100%",controls:!0,muted:!0})}),Object(a.jsx)(Ge,{show:s,setShow:o,publication:t})]})}n(484);function qt(e){var t=e.getPublications;return Object(a.jsxs)("div",{className:"publications",children:[Object(a.jsx)("h1",{children:"Publicaciones"}),Object(a.jsx)(ee.a,{columns:4,children:Object(he.map)(t,(function(e,t){return Object(a.jsx)(ee.a.Column,{children:Object(a.jsx)(kt,{publication:e})},t)}))})]})}n(485);var _t=n(299),Ft=n.n(_t);n(486);function $t(e){var t=e.story;return Object(a.jsx)("div",{className:"preview-storys",onClick:function(){return console.log(t.file),Object(a.jsx)(Ft.a,{stories:t.file,defaultInterval:1500,width:432,height:768})},children:Object(a.jsxs)("div",{className:"preview-story",children:[Object(a.jsx)("div",{children:Object(a.jsx)(w.a,{className:"img-avatar",src:t.idUser.avatar||de,avatar:!0})}),Object(a.jsx)("div",{children:Object(a.jsx)(w.a,{className:"img-story",src:t.file})})]})})}n(487);function Et(){var e=Object(o.useQuery)(ye),t=e.data,n=e.loading,c=e.startPolling,s=e.stopPolling;if(Object(r.useEffect)((function(){return c(1e3),function(){s()}}),[c,s]),n)return null;var i=t.getStorysFollowers;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Historias"}),Object(a.jsx)(ee.a,{columns:6,children:Object(a.jsx)(ee.a.Row,{children:Object(he.map)(i,(function(e,t){return Object(a.jsx)(ee.a.Column,{children:Object(a.jsx)($t,{story:e})},t)}))})})]})}n(488);var It=[{path:"/",layout:xe,component:function(){return Object(a.jsxs)(ee.a,{className:"home",columns:3,doubling:!0,stackable:!0,children:[Object(a.jsx)(ee.a.Column,{className:"home__left",width:11,children:Object(a.jsx)(Ze,{})}),Object(a.jsxs)(ee.a.Column,{className:"home__right",width:5,children:[Object(a.jsx)(mt,{}),Object(a.jsx)(Ot,{})]})]})},exact:!0},{path:"/wechat",layout:xe,component:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"estamos en el componente del chat"})})},exact:!0},{path:"/storys",layout:xe,component:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(Et,{})})},exact:!0},{path:"/users",layout:xe,component:function(){return J(),Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"Este es el componente de usuarios"})})},exact:!0},{path:"/:username",layout:xe,component:function(){var e=Object(Z.g)().username,t=Object(o.useQuery)(le,{variables:{username:e}}),n=t.data,c=t.loading,s=t.startPolling,i=t.stopPolling;if(Object(r.useEffect)((function(){return s(1e3),function(){s()}}),[s,i]),c)return null;var u=n.getPublications;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(St,{username:e,totalPublications:Object(he.size)(u)}),Object(a.jsx)(qt,{getPublications:u})]})},exact:!0},{layout:xe,component:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"Error 404..."})})}}];function Ut(){return Object(a.jsx)(Y.a,{children:Object(a.jsx)(Z.c,{children:Object(he.map)(It,(function(e,t){return Object(a.jsx)(Z.a,{path:e.path,exact:e.exact,render:function(t){return Object(a.jsx)(e.layout,{children:Object(a.jsx)(e.component,Object(u.a)({},t))})}},t)}))})})}function Lt(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){var e=h();c(e?p(e):null)}),[]);var s=function(){localStorage.removeItem("token"),c(null)},u=function(e){c(e)},l=Object(r.useMemo)((function(){return{auth:n,logout:s,setUser:u}}),[n]);return Object(a.jsx)(o.ApolloProvider,{client:x,children:Object(a.jsxs)(K.Provider,{value:l,children:[n?Object(a.jsx)(Ut,{}):Object(a.jsx)(X,{}),Object(a.jsx)(W.a,{position:"top-right",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})})}var Mt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,516)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(489),n(490),n(491);s.a.render(Object(a.jsx)(Lt,{}),document.getElementById("root")),Mt()}},[[492,1,2]]]);
//# sourceMappingURL=main.d8e669b5.chunk.js.map